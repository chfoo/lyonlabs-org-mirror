<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0092)http://jledger.proboards19.com/index.cgi?board=qlink&action=display&thread=1075989978&page=2 -->
<?xml version="1.0" encoding="iso-8859-1"?><HTML><HEAD><TITLE>8bit TelBBS - Cracking the Q-link Disk</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<SCRIPT language=JavaScript1.2 type=text/javascript>
<!--
if(self.location != top.location) top.location = self.location;
if((navigator.appVersion.substring(0,1) == "5" && navigator.userAgent.indexOf('Gecko') != -1) ||navigator.userAgent.search(/Opera/) != -1)document.write('<META HTTP-EQUIV="pragma" CONTENT="no-cache">');
function doConfirm(m,u){if(confirm(m)) location.href = u;}
function popWindow(x){var xWin=window.open("index.cgi?action="+x,"popWindow","directories=0,location=0,menubar=0,resizable=1,scrollbars=1,status=1,toolbar=0,top=100,left=100,width=400,height=275");xWin.focus();}
function disable(form){for(i=0;i<form.length;i++){if(form.elements[i].type == 'submit')form.elements[i].disabled=true;if(form.elements[i].type == 'reset')form.elements[i].disabled=true;if(form.elements[i].type == 'button')form.elements[i].disabled=true;}}
var pb_bubble = 0;
var pb_skinid = 1;
// -->
</SCRIPT>

<STYLE type=text/css>BODY {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; FONT-SIZE: 12px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px; FONT-FAMILY: Verdana,Arial
}
TD {
	FONT-SIZE: 11px; COLOR: black; FONT-FAMILY: Verdana,Arial
}
INPUT {
	FONT-SIZE: 9pt; COLOR: #000000; FONT-FAMILY: Verdana,Arial
}
TEXTAREA {
	FONT-SIZE: 9pt; COLOR: #000000; FONT-FAMILY: Verdana,Arial
}
SELECT {
	FONT-SIZE: 7pt; COLOR: #000000; FONT-FAMILY: Verdana,Arial
}
OPTGROUP {
	FONT-SIZE: 7pt; COLOR: #000000; FONT-FAMILY: Verdana,Arial
}
A:link {
	COLOR: red; TEXT-DECORATION: none
}
A:visited {
	COLOR: red; TEXT-DECORATION: none
}
A:hover {
	COLOR: red; TEXT-DECORATION: underline overline
}
.nav {
	FONT-SIZE: 10px; COLOR: black; TEXT-DECORATION: none
}
.nav:link {
	FONT-SIZE: 10px; COLOR: red; TEXT-DECORATION: none
}
.nav:visited {
	FONT-SIZE: 10px; COLOR: red; TEXT-DECORATION: none
}
.nav:hover {
	FONT-SIZE: 10px; COLOR: red; TEXT-DECORATION: underline
}
.windowbg {
	FONT-SIZE: 11px; COLOR: black; BACKGROUND-COLOR: white
}
.windowbg2 {
	FONT-SIZE: 11px; COLOR: black; BACKGROUND-COLOR: white
}
.titlebg {
	FONT-WEIGHT: bold; FONT-SIZE: 12px; COLOR: white; FONT-STYLE: normal; BACKGROUND-COLOR: navy
}
.popuptitlebg {
	FONT-WEIGHT: bold; FONT-SIZE: 12px; COLOR: white; FONT-STYLE: normal; BACKGROUND-COLOR: navy
}
.catbg {
	FONT-WEIGHT: bold; FONT-SIZE: 13px; COLOR: black; BACKGROUND-COLOR: white
}
.hr {
	COLOR: #0099ff
}
.bordercolor {
	BACKGROUND-COLOR: black
}
.quote {
	FONT-SIZE: 10px; COLOR: black; BACKGROUND-COLOR: white
}
.code {
	FONT-SIZE: 10px; COLOR: black; FONT-FAMILY: Courier New; BACKGROUND-COLOR: white
}
</STYLE>

<META content="MSHTML 6.00.2800.1505" name=GENERATOR></HEAD>
<BODY text=black vLink=red aLink=red link=red bgColor=#0099ff><BR>
<TABLE class=bordercolor cellSpacing=1 cellPadding=0 width="92%" align=center 
bgColor=black border=0>
  <TBODY>
  <TR>
    <TD width="100%">
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD class=welcomebg align=middle bgColor=#0099ff height=50><FONT 
            size=+1>8bit TelBBS</FONT><BR><FONT size=-1>« Cracking the Q-link 
            Disk »</FONT></TD>
          <TD class=welcomebg bgColor=#0099ff>
            <P><FONT size=2>Hey, Jim Brain, you have <A 
            href="http://jledger.proboards19.com/index.cgi?action=pm">0 
            messages</A>, 0 are new.<BR>7/18/05 at 9:56 
        </FONT><BR></P></TD></TR></TBODY></TABLE></TD></TR>
  <TR>
    <TD align=middle>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" align=center>
        <TBODY>
        <TR>
          <TD align=middle width="100%">
            <TABLE cellSpacing=0 cellPadding=3 width="100%" align=center 
            border=0>
              <TBODY>
              <TR>
                <TD class=menubg vAlign=center align=middle 
                  bgColor=white><FONT size=1><A 
                  href="http://jledger.proboards19.com/index.cgi"><IMG 
                  alt=[Home] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/home.gif" 
                  border=0></A>&nbsp;<A href="http://help.proboards.com/"><IMG 
                  alt=[Help] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/help.gif" 
                  border=0></A>&nbsp;<A 
                  href="http://jledger.proboards19.com/index.cgi?action=search"><IMG 
                  alt=[Search] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/search.gif" 
                  border=0></A>&nbsp;<A 
                  href="http://jledger.proboards19.com/index.cgi?action=members"><IMG 
                  alt=[Members] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/members.gif" 
                  border=0></A>&nbsp;<A 
                  href="http://jledger.proboards19.com/index.cgi?action=calendar"><IMG 
                  alt=[Calendar] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/calendar.gif" 
                  border=0></A>&nbsp;<A 
                  href="http://jledger.proboards19.com/index.cgi?action=viewprofile"><IMG 
                  alt=[Profile] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/profile.gif" 
                  border=0></A>&nbsp;<A 
                  href="http://jledger.proboards19.com/index.cgi?action=logout"><IMG 
                  alt=[Logout] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/logout.gif" 
                  border=0></A>&nbsp; 
      </FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
<CENTER>
<SCRIPT type=text/javascript><!--
google_ad_client = "pub-4696585109196199";google_alternate_ad_url = "http://banners.4d5.net/ads/ads.cgi";google_ad_width = 728;google_ad_height = 90;google_ad_format = "728x90_as";google_color_border = "BLACK";google_color_bg = "WHITE";google_color_link = "RED";google_color_url = "RED";google_color_text = "BLACK";google_hints = "Cracking the Qlink Disk";//--></SCRIPT>

<SCRIPT src="8bit TelBBS - Cracking the Q-link Disk_files/show_ads.js" 
type=text/javascript></SCRIPT>
</CENTER><BR><BR>
<CENTER>
<TABLE cellSpacing=0 cellPadding=0 width="92%" align=center>
  <TBODY>
  <TR>
    <TD vAlign=top width="100%"><BR><A class=nav 
      href="http://jledger.proboards19.com/index.cgi">8bit TelBBS</A> :: <A 
      class=nav 
      href="http://jledger.proboards19.com/index.cgi#general">General</A> :: <A 
      class=nav 
      href="http://jledger.proboards19.com/index.cgi?board=qlink">Qlink 
      Rebuilding Project</A> :: Cracking the Q-link Disk<BR>
      <TABLE class=bordercolor cellSpacing=0 cellPadding=0 width="100%" 
      bgColor=black border=0>
        <TBODY>
        <TR>
          <TD>
            <TABLE cellSpacing=1 cellPadding=4 width="100%" border=0>
              <TBODY>
              <TR>
                <TD class=titlebg width="100%" bgColor=navy colSpan=2>
                  <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
                    <TBODY>
                    <TR>
                      <TD width="50%"><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=display&amp;thread=1075989978&amp;page=1"><B>«</B></A> 
                        <SELECT 
                        onchange="if(this.options[this.selectedIndex].value) window.location='/index.cgi?board=qlink&amp;action=display&amp;thread=1075989978&amp;page='+this.options[this.selectedIndex].value;" 
                        name=pageMenu><OPTION 
                          value="">--Pages--</OPTION><OPTION 
                          value=1>1</OPTION><OPTION value=2 selected>Page 
                          2</OPTION></SELECT></FONT> &nbsp; &nbsp;<A 
                        href="javascript:popWindow('searchpopup&amp;board=qlink&amp;thread=1075989978');"><IMG 
                        alt="[Search This Thread]" 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/search2.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?action=addbookmark&amp;board=qlink&amp;thread=1075989978"><IMG 
                        alt="[Add Bookmark]" 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/bookmark.gif" 
                        border=0></A></TD>
                      <TD align=right width="50%"><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;page=2"><IMG 
                        alt=[Reply] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/reply.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=sendtopic&amp;thread=1075989978"><IMG 
                        alt="[Send Topic To Friend]" 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/sendtopic.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=print&amp;thread=1075989978"><IMG 
                        alt=[Print] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/print.gif" 
                        border=0></A> </TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=catbg vAlign=center align=left width="20%" 
                bgColor=white><FONT class=cattext color=navy size=-1><IMG 
                  alt=" " 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/hotthread.gif" 
                  border=0> <B>Author</B></FONT></TD>
                <TD class=catbg vAlign=center align=left width="80%" 
                bgColor=white><FONT class=cattext color=navy size=-1>Topic: 
                  Cracking the Q-link Disk (Read 608 times)</FONT></TD></TR>
              <TR>
                <TD class=windowbg vAlign=top align=left width="20%" 
                bgColor=white><A name=1120540112></A><B><A 
                  href="http://jledger.proboards19.com/index.cgi?action=viewprofile&amp;user=brain">Jim 
                  Brain</A></B><BR>Full Member<BR><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><BR>member is <B>online</B><BR><BR>
                  <CENTER><BR><BR><BR>
                  <SCRIPT language=JavaScript type=text/javascript><!--
document.write('<a href="mail'+'to:brain'+'@'+'jbrain.com">');// --></SCRIPT>
                  <IMG alt=[email] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/email_sm.gif" 
                  border=0></A> <A 
                  href="http://jledger.proboards19.com/index.cgi?action=pmsend&amp;to=brain"><IMG 
                  alt="[send pm]" 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/message_sm.gif" 
                  border=0></A> </CENTER><BR>Joined: Mar 2004<BR>Posts: 
                183<BR></TD>
                <TD class=windowbg vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #15 on 7/5/05 at 
                        1:08 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1120540112&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=modifypost&amp;thread=1075989978&amp;post=1120540112"><IMG 
                        alt=[Modify] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/modify.gif" 
                        border=0></A> <A 
                        href="javascript:doConfirm('Are%20you%20sure%20you%20want%20to%20delete%20this%20post?','/index.cgi?board=qlink&amp;action=deletepost&amp;thread=1075989978&amp;post=1120540112&amp;page=2')"><IMG 
                        alt=[Delete] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/delete.gif" 
                        border=0></A></FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT size=2><!-- google_ad_section_start -->SInce I 
                        spent months running around in the state machine/OS 
                        before I took a breather, cna you tell me how you got 
                        this far? Namely:<BR><BR>How did you find the cmd 
                        lists?<BR>How did you decipher that much of the 
                        protocol? As noted, I figured out the checksum and the 
                        $5a stuff, but you found the cmd pairs, etc.<BR><BR>And, 
                        the final question:<BR><BR>Are you actively working on 
                        this, or what is your status?<BR><BR>Jim<BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> Logged</FONT></TD></TR></TBODY></TABLE><FONT 
                        size=1>
                        <HR class=hr width="100%" SIZE=1>
                        --<BR>Jim Brain<BR></FONT></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg2 vAlign=top align=left width="20%" 
                bgColor=white><A name=1120544192></A>Keith 
                  Henrickson<BR>Guest<BR></TD>
                <TD class=windowbg2 vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #16 on 7/5/05 at 
                        2:16 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1120544192&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> </FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT size=2><!-- google_ad_section_start -->Ok, Keith 
                        Henrickson's guide to reverse engineering 
                        QLink:<BR><BR>USE AN EMULATOR! One with a monitor 
                        feature. I recommend Vice. It can emulate QLink's 
                        (fast?) loader, and also has a built in 
                        monitor.<BR><BR>First of all, do not load "0006". The 
                        four digit files are never accessed by name. They simply 
                        reserve space so that when a user validates the disk, 
                        the blocks are not deallocated. The three letter 
                        filenames contain track/sector pointers to load. Each 
                        'load' consists of many many operations. Each file 
                        'fork' has a header and some light 
                        obfuscation.<BR><BR>So, load "*",8,1<BR><BR>Break into 
                        the monitor and search for BASIC text, which we find at 
                        $1301. Soft reset the emulator. Type "POKE 44,19". Now 
                        we can accurately list the program.<BR><BR>Now I broke 
                        the program down into three logical blocks. The green 
                        screen, the blue screen (flashy qlink logo within blue 
                        boxes), main menu. I could see by listing the program 
                        that everything up to the main menu was printed by this 
                        program. I begain making notes.<BR><BR>Line 13 - Call 
                        dialer on line 40000 (Green screen starts here)<BR>Line 
                        500 - Connect to the correct X.25 network (second half 
                        of green screen)<BR>Line 600 - Initialize machine code 
                        half of Qlink, and draw the blue screen on 630<BR>Line 
                        900 - Drawing main menu<BR><BR>So, I begin working on 
                        how to make it through each of these sections of 
                        code.<BR><BR>Line 13 - set modem type to manual dial. 
                        &lt;RETURN&gt; skips this block<BR>Line 500 - Dragged up 
                        some memories that "/555-1212" would correspond with the 
                        section of code expecting "IDENTIFIER". Wrote a little 
                        test app to print the expected values COM2, and mapped 
                        Vice to COM1. Null modem cable between the two. A couple 
                        of tries, and I was at the blue screen.<BR><BR>The first 
                        place the BASIC program sits is on line 650. The GOSUB 
                        15000 just cycles the colors in the logo. Boring. But 
                        the SYS is interesting, and it is looking for 782 to be 
                        0 or 10. Hmmmmm.... 0 or 10. I pulled one out of my butt 
                        here and said, "Hey, it's trying to start a protocol. 
                        That location is the number of bad attempts. If it 
                        reaches 10, we're dead. When it succeeds, it will be set 
                        to 0." So, we look at the assembly for the routine being 
                        SYSed.<BR><BR>It turns out to be a VERY simple routine 
                        at $9AC0, that flips out BASIC ROM, reads the location 
                        $B9B5 underneath it to Y, and restores BASIC ROM. 782 is 
                        of course the shadow register for Y. So, we're 
                        retreiving a value from the ML code. And flipping out 
                        ROMS in my monitor, and looking at that location, YEP, 
                        it's a $01 by default. Ok, so, now I need to know how to 
                        set this to 0.<BR><BR>A simple hunt for "b5 b9" gives me 
                        5 easy possibilities. $BB2F is the ONLY case where it is 
                        being set to 0. Look back two instructions to find a 
                        JMP. So, let's guess that $BB27 is the first instruction 
                        of this subroutine. Hunt for it. ONE reference in all of 
                        memory, a JMP from B82F.<BR><BR>Looking back up, and 
                        around $B883, we look for the 5a. $B890 starts 
                        processing packets in earnest. The CRC is unpacked on 
                        $B8A0, it is calculated in one of the calls around 
                        $B8B6, and it is checked in $B8CF. <BR><BR>One good 
                        resource I had was when the CRC fails, an error packet 
                        is sent. This is done by a routine at $BACA. It puts 
                        together a perfectly normal packet 23. That ALSO taught 
                        me a lot about the packet format.<BR><BR>Anyway, we 
                        finally have a valid packet, and begin seeing what type 
                        it is. The JMP $BB27 that we need to kick things off is 
                        going to be called if a certain byte in the packet is 
                        $24.<BR><BR>So, I wrote a program (which I don't have 
                        anymore), that waited for the first packet from the 
                        client, and printed out everything I could tell about 
                        it. This is how I validated my CRC routine. Took me 
                        several hours to find all the typos I'd made in it. 
                        Slowed me up HARD for a while. Once I had that, I sent 
                        back a packet 24, no payload. The client immediately 
                        printed, "Verifying your account 
                        information".<BR><BR>The next packet I got was of type 
                        $20. It contained "DD1234567890ABCD". I guessed that DD 
                        was the command, and the rest was some type of login 
                        info. But what POSSIBLE responses could their 
                        be?<BR><BR>Again, BACK to the Batmobile! I mean, the 
                        monitor!<BR><BR>This time, use the 'interrogate' command 
                        to see things as text, just in case I could find a DD 
                        anywhere in text. At $BDD2, there it is. Every possible 
                        command the client can send. Keep looking.<BR><BR>And at 
                        $C86C, we have another list of two letter commands. 
                        Everything the client expects to receive? 
                        Hopehope!<BR><BR>So, I modified my program to send a 
                        command in a packet type $20 in response to the DD 
                        packet, made a list of the possible commands, and went 
                        to it. One by one.<BR><BR>At DO, I saw the client clear 
                        the screen in an all too familar fashion, as if it 
                        WANTED to go to the main menu, but couldn't.<BR><BR>I 
                        found lots of commands that did nothing. Much pain, some 
                        that gave errors on the client screen, like "no time 
                        left on account, goodbye".<BR><BR>FINALLY, at D3, the 
                        client responded with SS, and said, "Verifying your 
                        disk..." I'm like, "Oo! That was the next step!" It sent 
                        me an SS. and waited. Huh.<BR><BR>Well, I have an "SS" 
                        too. So, I'll send it an SS if it sends me an SS. This 
                        makes the emulated disk run. "Oo! It was supposed to do 
                        that!" and then it sends me an "SG" and a "D6".<BR><BR>I 
                        noticed that between line 650 (where we start layer to 
                        with the $24 packet), and line 900, there is one other 
                        place the BASIC program can loop. I'm like, "I'll bet 
                        it's waiting for the disk to be validated before it lets 
                        it go to the main menu." So, rework the program to wait 
                        for DD, send D3, wait for SS, send SS, wait for D6, send 
                        DO. And BANG! I was at the main 
                        menu.<BR><BR><BR><BR><BR>Now, layer 2 is very fiddly 
                        with it's sequence numbers. All command packets $20 type 
                        with two letter commands in them, MUST increment the 
                        sequence number. All control packets $21 and greater, 
                        MUST NOT increment the sequence number. Also, getting 
                        the second number right takes a while. My fingers are 
                        very tired, so I'm not going to go into that right 
                        now.<BR><BR>As to whether I am still interested, yes. 
                        <IMG alt=:) 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/smiley.gif" 
                        border=0> I have not touched the server for some time. 
                        But I still poke at learning more commands. I spend my 
                        xmas vacation with a server simulator I knocked up on my 
                        mac (and then lost), learning the command set for SuperQ 
                        and puzzler. I played a game of puzzler. Painfully at 
                        times. No player graphics, but the puzzle was up, and 
                        the letters popped up and everything.<BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg2 vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> 
                    Logged</FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg vAlign=top align=left width="20%" 
                bgColor=white><A name=1120574836></A><B><A class=group1 
                  href="http://jledger.proboards19.com/index.cgi?action=viewprofile&amp;user=admin">Jeff 
                  Ledger</A></B><BR>Administrator<BR><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/starred.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/starred.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/starred.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/starred.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/starred.gif" 
                  border=0><BR>member is offline<BR><BR>
                  <CENTER><IMG height=65 alt=[avatar] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/bc.gif" 
                  width=65 border=0><BR><BR><BR><A 
                  href="http://www.petscii.com/" target=_blank><IMG 
                  alt=[homepage] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/www_sm.gif" 
                  border=0></A> <A 
                  href="http://jledger.proboards19.com/index.cgi?action=pmsend&amp;to=admin"><IMG 
                  alt="[send pm]" 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/message_sm.gif" 
                  border=0></A> </CENTER><BR>Joined: Feb 2004<BR>Posts: 
                180<BR></TD>
                <TD class=windowbg vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #17 on 7/5/05 at 
                        10:47 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1120574836&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> </FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT 
                        size=2><!-- google_ad_section_start -->K:<BR><BR>With 
                        your contribution of information regarding the protocol 
                        itself, it looks like a public, "multiuser" Qlink server 
                        could be put online using the existing TelBBS interface 
                        configuration for client connection.<BR><BR>My own test 
                        setup includes an actual 64 connected with an RS232 
                        interface to the PC running Tom Stock's old hayes 
                        emulator. (Only because it allows interactive 
                        communication to the client from the PC 
                        keyboard)<BR><BR>I've got a multiuser petscii chatroom 
                        running on my linux box, written in Perl. I suspect that 
                        once I wrap my head around your protocol information, it 
                        should be very easy to incorporate the expected server 
                        responses into my code. It should allow the multiple 
                        clients to connect, then share data between them in the 
                        Qlink chatroom.<BR><BR>The part I'm still hazy on is the 
                        actual packet itself. My brain doesn't work well in HEX, 
                        but IIUC, I should be able to send an standard expected 
                        line of characters to the client and get it to move 
                        correctly. How important is it to actually examine the 
                        data from the client software to do this? 
                        <BR><BR>Jeff<BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> Logged</FONT></TD></TR></TBODY></TABLE><FONT 
                        size=1>
                        <HR class=hr width="100%" SIZE=1>
                        <BR>"My computer boots in 2 seconds!"<BR>--Microsoft 
                        Beat That!</FONT></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg2 vAlign=top align=left width="20%" 
                bgColor=white><A name=1120580915></A>Keith 
                  Henrickson<BR>Guest<BR></TD>
                <TD class=windowbg2 vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #18 on 7/5/05 at 
                        12:28 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1120580915&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> </FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT 
                        size=2><!-- google_ad_section_start -->Hmmmmmmrf.....<BR><BR>You 
                        still pretty much have to implement the entire People 
                        Connection command set. Let me give you an 
                        example.<BR><BR>Let's say the user selects 'Change to a 
                        private room'. At the very least, you have to do 
                        SOMETHING.<BR><BR>Better yet, what about the 'Box 
                        Office' option?<BR><BR>Or trying to start a 
                        game?<BR><BR>The menu is fixed and hard 
                        coded.<BR><BR>Plus the command syntax isn't great, 
                        either.<BR><BR>Client will send MR, asking for a 
                        lobby<BR><BR>Server should send CMLobby<BR><BR>Server 
                        will send CE\x01(first user screen name)<BR>Server will 
                        send CE\x02(second user screen name)<BR>Server will send 
                        CL\x03(third and last user screen name)<BR><BR>First 
                        user type 'Booga!'<BR><BR>First user's client sends 
                        AABooga!<BR><BR>Server sends to ALL clients 
                        AA\x01Booga!<BR><BR>Second user disconnects, server 
                        sends CB\x02<BR><BR>New user connects, server must keep 
                        track of which positions are available and send 
                        CA\x02(newest user)<BR><BR>You must also respect the 
                        original limits of 23 users in a room, ten char screen 
                        names, etc, etc...<BR><BR>Plus, you still need the full 
                        layer 2 engine. Have to keep letting the client free 
                        it's packets from the retransmission buffer, or it fills 
                        up and the client waits.<BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg2 vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> 
                    Logged</FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg vAlign=top align=left width="20%" 
                bgColor=white><A name=1120784396></A><B><A 
                  href="http://jledger.proboards19.com/index.cgi?action=viewprofile&amp;user=brain">Jim 
                  Brain</A></B><BR>Full Member<BR><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><BR>member is <B>online</B><BR><BR>
                  <CENTER><BR><BR><BR>
                  <SCRIPT language=JavaScript type=text/javascript><!--
document.write('<a href="mail'+'to:brain'+'@'+'jbrain.com">');// --></SCRIPT>
                  <IMG alt=[email] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/email_sm.gif" 
                  border=0></A> <A 
                  href="http://jledger.proboards19.com/index.cgi?action=pmsend&amp;to=brain"><IMG 
                  alt="[send pm]" 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/message_sm.gif" 
                  border=0></A> </CENTER><BR>Joined: Mar 2004<BR>Posts: 
                183<BR></TD>
                <TD class=windowbg vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #19 on 7/7/05 at 
                        20:59 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1120784396&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=modifypost&amp;thread=1075989978&amp;post=1120784396"><IMG 
                        alt=[Modify] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/modify.gif" 
                        border=0></A> <A 
                        href="javascript:doConfirm('Are%20you%20sure%20you%20want%20to%20delete%20this%20post?','/index.cgi?board=qlink&amp;action=deletepost&amp;thread=1075989978&amp;post=1120784396&amp;page=2')"><IMG 
                        alt=[Delete] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/delete.gif" 
                        border=0></A></FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT size=2><!-- google_ad_section_start -->Ahh, I used 
                        VICE, but as WinVICE doesn't have COM port bindings, I 
                        was not able to simply rig up a dummy server to use. 
                        Thus, I tried my hand at disassembling the code. Your 
                        option is much faster.<BR><BR>I appreciate the insight. 
                        Now that WinVICE has TCP/IP serial port bindings, I can 
                        try my hand at this again.<BR><BR>Jim<BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> Logged</FONT></TD></TR></TBODY></TABLE><FONT 
                        size=1>
                        <HR class=hr width="100%" SIZE=1>
                        --<BR>Jim Brain<BR></FONT></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg2 vAlign=top align=left width="20%" 
                bgColor=white><A name=1121240368></A>Keith 
                  Henrickson<BR>Guest<BR></TD>
                <TD class=windowbg2 vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #20 on 7/13/05 
                        at 3:39 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1121240368&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> </FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT size=2><!-- google_ad_section_start -->Yes, 
                        unfortunately, I have not made a DENT in figuring out 
                        the actual Q-Link OS.<BR><BR>Except, that it is a real 
                        OS. The server must spawn processes, send RPC messages, 
                        and kill processes to make the client do it's 
                        thing.<BR><BR>All while the OS is frantically flipping 
                        between the ML tasks and a BASIC task, slamming ROMS in 
                        and out as need be.<BR><BR>I used UNIX VICE for my early 
                        explorations, for exactly this reason. Now that WinVICE 
                        supports RS232 redirection, I have an interest again. <!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg2 vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> 
                    Logged</FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg vAlign=top align=left width="20%" 
                bgColor=white><A name=1121303292></A>David 
                Murray<BR>Guest<BR></TD>
                <TD class=windowbg vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #21 on 7/13/05 
                        at 21:08 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1121303292&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> </FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT size=2><!-- google_ad_section_start -->Pitty there 
                        are no Qlink servers to connect to anymore. Otherwise 
                        you could just watch the data stream between your C= and 
                        the server. I somehow doubt anyone thought to log any of 
                        this years ago while it was still available.<BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> 
                    Logged</FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg2 vAlign=top align=left width="20%" 
                bgColor=white><A name=1121410099></A><B><A 
                  href="http://jledger.proboards19.com/index.cgi?action=viewprofile&amp;user=brain">Jim 
                  Brain</A></B><BR>Full Member<BR><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><IMG alt=* 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/star.gif" 
                  border=0><BR>member is <B>online</B><BR><BR>
                  <CENTER><BR><BR><BR>
                  <SCRIPT language=JavaScript type=text/javascript><!--
document.write('<a href="mail'+'to:brain'+'@'+'jbrain.com">');// --></SCRIPT>
                  <IMG alt=[email] 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/email_sm.gif" 
                  border=0></A> <A 
                  href="http://jledger.proboards19.com/index.cgi?action=pmsend&amp;to=brain"><IMG 
                  alt="[send pm]" 
                  src="8bit TelBBS - Cracking the Q-link Disk_files/message_sm.gif" 
                  border=0></A> </CENTER><BR>Joined: Mar 2004<BR>Posts: 
                183<BR></TD>
                <TD class=windowbg2 vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #22 on 7/15/05 
                        at 2:48 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1121410099&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=modifypost&amp;thread=1075989978&amp;post=1121410099"><IMG 
                        alt=[Modify] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/modify.gif" 
                        border=0></A> <A 
                        href="javascript:doConfirm('Are%20you%20sure%20you%20want%20to%20delete%20this%20post?','/index.cgi?board=qlink&amp;action=deletepost&amp;thread=1075989978&amp;post=1121410099&amp;page=2')"><IMG 
                        alt=[Delete] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/delete.gif" 
                        border=0></A></FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT 
                        size=2><!-- google_ad_section_start -->Keith:<BR><BR>Working 
                        on some code. But, I have a couple questions:<BR><BR>Do 
                        you have names for the various commands (23, 
                        24,26,etc.?)<BR>I noticed in the large list of two 
                        letter commands that some can only be used at certain 
                        times. Have you a state machine showing the various 
                        states the main system can be in?<BR>Are your fingers 
                        better and you might be able to explain the 2 sequence 
                        numbers. <BR>As to your code, is there any rundown? I'm 
                        scanning through it, but not sure the 
                        organization.<BR><BR>I lost my old DATAPAC emu code, so 
                        I rewrote 
                      some.<BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg2 vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> Logged</FONT></TD></TR></TBODY></TABLE><FONT 
                        size=1>
                        <HR class=hr width="100%" SIZE=1>
                        --<BR>Jim Brain<BR></FONT></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=windowbg vAlign=top align=left width="20%" 
                bgColor=white><A name=1121554952></A>Keith 
                  Henrickson<BR>Guest<BR></TD>
                <TD class=windowbg vAlign=top align=left width="80%" 
                bgColor=white height="100%">
                  <TABLE height="100%" cellSpacing=2 cellPadding=2 width="100%" 
                  border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=center align=left width="5%"><IMG alt=" " 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/xx.gif" 
                        border=0></TD>
                      <TD vAlign=center align=left width="55%"><FONT 
                        size=2><B>Re: Cracking the Q-link 
                        Disk</B></FONT><BR><FONT size=1>« Reply #23 on 7/16/05 
                        at 19:02 »</FONT></TD>
                      <TD vAlign=bottom align=right width="40%" 
                        height=20><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;quote=1121554952&amp;page=2"><IMG 
                        alt=[Quote] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/quote.gif" 
                        border=0></A> </FONT></TD></TR>
                    <TR>
                      <TD vAlign=top colSpan=3>
                        <HR class=hr width="100%" SIZE=1>
                        <FONT size=2><!-- google_ad_section_start -->The sequnce 
                        numbers aren't really that hard, just took me a while to 
                        divine from the code<BR><BR>Sequence number 1:<BR>Every 
                        time you send a packet 0x20, this increments by 
                        one.<BR><BR>Sequence number 2:<BR>Every time you send a 
                        packet, include the last packet number you received. 
                        This way the far end knows which packet #'s you've seen, 
                        and he can free his memory.<BR><BR>Sequence numbers 
                        increment in the range 0x10-0x7F<BR><BR>0x21 -- Client 
                        is out of memory for sliding windows buffers. It needs a 
                        packet to come back so that it can free some memory and 
                        send you more data.<BR>0x22 -- ACK. Used to explicitly 
                        ack packets from the client. The client will use the 
                        second sequence number to free any packets it is able 
                        to. NOT REQUIRED UNLESS the client sends you a 0x21 
                        moaning that he is out of memory.<BR><BR>0x23 -- 
                        Protocol reset. Used when the client is confused or has 
                        otherwise lost his place. Happens at the initial 
                        connection, on a CRC error, or after a SuperQ load. 
                        Everyone resets all sequence #'s to 0x7f and throws away 
                        anything in retransmit queues. ONLY VALID CLIENT TO 
                        SERVER.<BR>0x24 -- Protocol reset ACK.<BR><BR><BR>0x25 
                        -- Client has found a packet sequence error. First 
                        sequence number of packet just received is not one 
                        greater than first sequence number of previous packet. 
                        Only checked on 0x20 packets.<BR><BR>0x26 -- Ping. 
                        Respond with a 0x24 and current sequence numbers. 
                        Failure to respond to three pings will result in 
                        connection termination by client.<BR><BR><BR>In the 
                        'qclient' directory, you can find the miniteletym 
                        source. miniteletym was run by UNIX Vice and attached to 
                        the emulated modem port. It answered the Tymnet logon 
                        sequence and then proxied everything between stdio and a 
                        TCP socket.<BR><BR>'qserver' layout.<BR><BR>TCPManager, 
                        TCPListener, TCPConnection work togehter to handle the 
                        incoming connections. TCPManager::Manage is called 
                        repeatedly to process any 
                        connections/data<BR><BR>qclientconn.cpp implements layer 
                        2 and sends all layer 3 data up to 
                        quser.cpp<BR><BR>quser.cpp breaks up the command and 
                        calls the different support objects to process things 
                        like logins, room joins, and such.<BR><BR>qporch.cpp 
                        validates a user, sending back the appropriate responses 
                        based on a mysql lookup.<BR><BR>And so on...<BR><BR><BR><!-- google_ad_section_end --></FONT></TD></TR>
                    <TR>
                      <TD class=windowbg vAlign=bottom align=left bgColor=white 
                      colSpan=3>
                        <TABLE width="100%" border=0>
                          <TBODY>
                          <TR>
                            <TD align=left><FONT size=1></FONT></TD>
                            <TD align=right><FONT size=1><IMG alt="IP: " 
                              src="8bit TelBBS - Cracking the Q-link Disk_files/ip.gif" 
                              border=0> 
                    Logged</FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR>
              <TR>
                <TD class=titlebg width="100%" bgColor=navy colSpan=2>
                  <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
                    <TBODY>
                    <TR>
                      <TD width="50%"><FONT size=-1><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=display&amp;thread=1075989978&amp;page=1"><B>«</B></A> 
                        <SELECT 
                        onchange="if(this.options[this.selectedIndex].value) window.location='/index.cgi?board=qlink&amp;action=display&amp;thread=1075989978&amp;page='+this.options[this.selectedIndex].value;" 
                        name=pageMenu><OPTION 
                          value="">--Pages--</OPTION><OPTION 
                          value=1>1</OPTION><OPTION value=2 selected>Page 
                          2</OPTION></SELECT></FONT> &nbsp; &nbsp;<A 
                        href="javascript:popWindow('searchpopup&amp;board=qlink&amp;thread=1075989978');"><IMG 
                        alt="[Search This Thread]" 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/search2.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?action=addbookmark&amp;board=qlink&amp;thread=1075989978"><IMG 
                        alt="[Add Bookmark]" 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/bookmark.gif" 
                        border=0></A></TD>
                      <TD align=right width="50%"><A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=post&amp;thread=1075989978&amp;page=2"><IMG 
                        alt=[Reply] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/reply.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=sendtopic&amp;thread=1075989978"><IMG 
                        alt="[Send Topic To Friend]" 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/sendtopic.gif" 
                        border=0></A> <A 
                        href="http://jledger.proboards19.com/index.cgi?board=qlink&amp;action=print&amp;thread=1075989978"><IMG 
                        alt=[Print] 
                        src="8bit TelBBS - Cracking the Q-link Disk_files/print.gif" 
                        border=0></A> 
        </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR><BR>
      <TABLE class=bordercolor cellSpacing=0 cellPadding=0 width="100%" 
      bgColor=black border=0>
        <TBODY>
        <TR>
          <TD>
            <TABLE cellSpacing=1 cellPadding=4 width="100%" border=0>
              <TBODY>
              <TR>
                <TD class=titlebg width="100%" bgColor=navy><FONT 
                  size=2><B>Quick Reply</B></FONT></TD></TR>
              <TR>
                <TD class=windowbg width="100%" bgColor=white><FONT 
                  size=2>Message:<BR>
                  <FORM onsubmit=disable(this) action=/index.cgi 
                  method=post><INPUT type=hidden value=post2 name=action><INPUT 
                  type=hidden value=qlink name=board><INPUT type=hidden 
                  value=1075989978 name=thread><INPUT type=hidden value=xx 
                  name=icon><INPUT type=hidden 
                  value="Re: Cracking the Q-link Disk" name=subject><TEXTAREA accessKey=q name=message rows=5 cols=100></TEXTAREA><BR><INPUT accessKey=s type=submit value="Post Reply"> 
                  <FONT size=1>Shortcut to Quick Reply box: Alt+Q. Shortcut to 
                  post message: 
          Alt+S.</FONT></FORM></FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD align=right><SELECT 
            onchange="if(this.options[this.selectedIndex].value) window.location=this.options[this.selectedIndex].value;"><OPTION 
              value="" selected>Forum Jump</OPTION><OPTION 
              value="">--------------------</OPTION><OPTION value=/index.cgi>» 
              Home</OPTION><OPTION value="">--------------------</OPTION><OPTION 
              value=/index.cgi#general>» General</OPTION><OPTION 
              value="">--------------------</OPTION><OPTION 
              value=/index.cgi?board=general>- General Board</OPTION><OPTION 
              value=/index.cgi?board=talk>- TelBBS Q&amp;A</OPTION><OPTION 
              value=/index.cgi?board=qlink>- Qlink Rebuilding 
              Project</OPTION><OPTION value=/index.cgi?board=modemwars>- Modem 
              Wars &amp; Operation Terminal</OPTION><OPTION 
              value=/index.cgi?board=dtvhacking>- DTVHacking</OPTION><OPTION 
              value=/index.cgi?board=cmltalk>- 
      CML</OPTION></SELECT></TD></TR></TBODY></TABLE><BR></TD></TR></TBODY></TABLE></CENTER>
<CENTER><A 
href="http://www.proboards.com/adfree-signup.cgi?jledger.proboards19.com">Click 
Here To Make This Board Ad-Free</A></CENTER><BR>
<CENTER>| <A href="http://www.vacations.net/">Vacations</A> | <A 
href="http://www.hotels.net/">Hotels.net</A> | <A 
href="http://www.everythingt1.com/">T1</A> | <A 
href="http://www.sunfinder.com/">Vacation Packages</A> | <A 
href="http://www.sunfinder.com/airline_tickets.htm">Air Travel</A> | <A 
href="http://www.1800fastdsl.com/">DSL</A> |</CENTER><BR>
<CENTER><FONT face=Verdana,Arial size=-2>This Board Hosted For FREE By <A 
href="http://www.proboards.com/" target=_blank>ProBoards</A><BR>Get Your Own <A 
href="http://www.proboards.com/" target=_blank>Free Message 
Board</A>!</FONT></CENTER></BODY></HTML>
